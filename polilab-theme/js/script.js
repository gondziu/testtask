class Canvi{constructor(t={}){this.options=Object.assign({speed:"0.3s",width:"300px",isDebug:!1,position:"left",pushContent:!0,navbar:".canvi-navbar",content:".canvi-content",openButton:".canvi-open-button"},t),this.isOpen=!1,this.body=document.querySelector("body"),this.transitionEvent=this._whichTransitionEvent(),this.navbar=document.querySelector(this.options.navbar),this.content=document.querySelector(this.options.content),this.openButton=document.querySelector(this.options.openButton),this.listeners={open:()=>this.open(),close:()=>this.close(),responsiveWidth:()=>this._responsiveWidth(),transitionOpenEnd:t=>this._transitionOpenEnd(t),transitionCloseEnd:t=>this._transitionCloseEnd(t)},this.init()}init(){this.options.isDebug&&(console.log("%c %s","color: #e01a51; font-style: italic;","CANVI: Init is running..."),this._objectLog()),this._buildMarkup(),this._initializeMainEvents(),this._triggerCanviEvent("canvi.init"),this.navbar.setAttribute("inert",""),this.navbar.setAttribute("aria-hidden","true")}open(){this.isOpen||(this.options.isDebug&&console.log("%c %s","color: #e01a51; font-style: italic;","CANVI: Open is running..."),this._triggerCanviEvent("canvi.before-open"),this._buildOverlay(),this._setZindex(),this.content.classList.add("is-canvi-open"),this.body.classList.add("is-canvi-open"),this.navbar.classList.add("is-canvi-open"),this._responsiveWidth(),(this.options.pushContent?this.content:this.navbar).addEventListener(this.transitionEvent,this.listeners.transitionOpenEnd),this.navbar.removeAttribute("inert"),this.navbar.removeAttribute("aria-hidden"),this.isOpen=!0)}close(){this.isOpen&&(this.options.isDebug&&console.log("%c %s","color: #e01a51; font-style: italic;","CANVI: Close is running..."),this._triggerCanviEvent("canvi.before-close"),this.overlay.classList.add("canvi-animate-out"),this.content.style.transform="translateX(0)",this.body.classList.remove("is-canvi-open"),this.navbar.classList.remove("is-canvi-open"),(this.options.pushContent?this.content:this.navbar).addEventListener(this.transitionEvent,this.listeners.transitionCloseEnd),this.navbar.setAttribute("inert",""),this.navbar.setAttribute("aria-hidden","true"),this.isOpen=!1)}toggle(){this.options.isDebug&&console.log("%c %s","color: #e01a51; font-style: italic;","CANVI: Toggle is running..."),this.isOpen?this.close():this.open()}_buildMarkup(){this.options.isDebug&&console.log("%c %s","color: #ccc; font-style: italic;","CANVI: Build markup..."),this.options.position&&(this.navbar.setAttribute("data-position",this.options.position),this.navbar.setAttribute("data-push-content",this.options.pushContent)),this.navbar.style.width=this.options.width,this.body.classList.add("is-canvi-ready")}_responsiveWidth(){this.navbar.classList.contains("is-canvi-open")&&window.matchMedia("(min-width: 0px)").matches&&(this.navbar.style.width=this.options.width,this._responsiveWidthHelper(this.options.width)),this.navbar.classList.contains("is-canvi-open")&&Array.isArray(this.options.responsiveWidths)&&-1<this.options.responsiveWidths.length&&this.options.responsiveWidths.forEach(t=>{window.matchMedia(`(min-width: ${t.breakpoint})`).matches&&(this.navbar.style.width=t.width,this._responsiveWidthHelper(t.width))})}_responsiveWidthHelper(t){this.options.pushContent&&(this.content.style.transform="left"===this.options.position?`translateX(${t})`:`translateX(-${t})`)}_buildOverlay(){this.options.isDebug&&console.log("%c %s","color: #32da94; font-style: italic;","CANVI: Build overlay..."),this.content.querySelector(".canvi-overlay")||(this.overlay=document.createElement("div"),this.overlay.className="canvi-overlay",this.content.appendChild(this.overlay)),this.overlay.addEventListener("click",this.listeners.close),this._setTransitionSpeed()}_removeOverlay(){this.options.isDebug&&console.log("%c %s","color: #32da94; font-style: italic;","CANVI: Remove overlay..."),this.overlay&&(this.content.removeChild(this.overlay),this.overlay.removeEventListener("click",this.listeners.close))}_initializeMainEvents(){this.options.isDebug&&(console.log("%c %s","color: #ccc; font-style: italic;","CANVI: Init main events..."),console.log("%c %s","color: #999; font-style: italic;","---------")),this.body.addEventListener("keyup",t=>{this.isOpen&&27==t.keyCode&&this.close()}),this.openButton&&this.openButton.addEventListener("click",this.listeners.open),window.addEventListener("resize",this.listeners.responsiveWidth)}_transitionOpenEnd(t){this.isOpen&&"transform"===t.propertyName&&(this.options.isDebug&&(console.log("%c %s","color: #ff7600; font-style: italic;","CANVI: Open transition end..."),console.log("%c %s","color: #999; font-style: italic;","---------")),this._triggerCanviEvent("canvi.after-open"),(this.options.pushContent?this.content:this.navbar).removeEventListener(this.transitionEvent,this.listeners.transitionOpenEnd))}_transitionCloseEnd(t){this.isOpen||"transform"!==t.propertyName||(this.options.isDebug&&console.log("%c %s","color: #ff7600; font-style: italic;","CANVI: Close transition end..."),this._triggerCanviEvent("canvi.after-close"),this._removeOverlay(),this._resetZindex(),(this.options.pushContent?this.content:this.navbar).removeEventListener(this.transitionEvent,this.listeners.transitionCloseEnd),this.content.classList.remove("is-canvi-open"))}_setTransitionSpeed(){this.navbar.style.transitionDuration=this.options.speed,this.content.style.transitionDuration=this.options.speed,this.overlay.style.animationDuration=this.options.speed}_setZindex(){this.navbar.style.zIndex=this.options.pushContent?20:10,this.content.style.zIndex=this.options.pushContent?40:5}_resetZindex(){this.navbar.style.zIndex=1,this.content.style.zIndex=5}_whichTransitionEvent(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}_triggerCanviEvent(t){this.body.dispatchEvent(new CustomEvent(t,{details:{navbar:this.navbar,openButton:this.openButton,content:this.content}}))}_objectLog(){console.groupCollapsed("Canvi Object"),console.log("Open Button: ",this.openButton),console.log("Navbar: ",this.navbar),console.log("Content: ",this.content),console.groupEnd()}}function preloader(){const t=document.getElementById("polilab-preloader");window.addEventListener("load",function(){t.classList.remove("polilab-preloader--show")})}function ready(t){"loading"!==document.readyState?t():document.addEventListener?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&t()})}function mobileMenuInit(){const e=document.querySelectorAll(".site-navbar--mobile li a");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(){n.close(),document.getElementById("page").style.transform="unset"},!1);const n=new Canvi({openButton:".site-hamburger",pushContent:!1,position:"left",width:"100%"});document.querySelector(".site-hamburger-close").addEventListener("click",function(){n.close(),document.getElementById("page").style.transform="unset"},!1),window.onresize=function(){n.close()}}function fixedMenu(){50<window.pageYOffset?document.querySelector(".site-header").classList.add("site-header--fixed"):document.querySelector(".site-header").classList.remove("site-header--fixed")}!function(){"use strict";function a(n,i){const s=n.querySelectorAll('[role="tablist"]')[0];let o,a;function r(t){v(t)}function c(t){t=t.target,e(t,!1)}function l(t){switch(t.keyCode){case d.end:t.preventDefault(),b();break;case d.home:t.preventDefault(),p();break;case d.up:case d.down:f(t)}}function h(t){switch(t.keyCode){case d.left:case d.right:f(t);break;case d.enter:case d.space:i?e(t.target):v(t)}}a=n.querySelectorAll('[role="tabpanel"]'),o=n.querySelectorAll('[role="tab"]');const d={end:35,home:36,left:37,up:38,right:39,down:40,delete:46,enter:13,space:32},u={37:-1,38:-1,39:1,40:1},e=function(t,e){e=e||!0,function(){for(let t=0;t<o.length;t++)o[t].setAttribute("tabindex","-1"),o[t].setAttribute("aria-selected","false")}(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),e&&t.focus()},v=function(t){t=t.target.getAttribute("id");if(t){const e=n.querySelector('[aria-controls="'+t+'"]');e.click(),document.getElementById(t).scrollIntoView({behavior:"smooth"})}},p=function(){const t=i?o:a;t[0].focus()},b=function(){const t=i?o:a;t[t.length-1].focus()},f=function(t){var e=t.keyCode;let n=!1;(s?"vertical"===s.getAttribute("aria-orientation"):null)||!i?e!==d.up&&e!==d.down||(t.preventDefault(),n=!0):e!==d.left&&e!==d.right||(n=!0),n&&function(t){var e=t.keyCode;if(u[e]){t=t.target;const n=i?o:a;void 0!==t.index&&(n[t.index+u[e]]?n[t.index+u[e]].focus():e===d.left||e===d.up?b():e!==d.right&&e!=d.down||p())}}(t)};for(let t=0;t<o.length;++t)!function(t){const e=(i?o:a)[t];o[t].addEventListener("click",c),e&&(i||e.addEventListener("click",r),e.addEventListener("keydown",l),e.addEventListener("keyup",h),e.index=t)}(t);if(!i)for(const t of a)t.onclick=function(t){v(t)}}const r=function(t,e,n="is-active"){for(const i of t)i.classList.remove(n);e.classList.add(n)};function t(t){const e=t.querySelectorAll(".ootb-tabcordion--tabs .tab"),n=t.querySelectorAll(".ootb-tabcordion--entry");for(const i of e)i.onclick=function(){var t=i.getAttribute("aria-controls"),t=document.getElementById(t);r(e,i),r(n,t)};for(const s of n)!function(n,i,s,o){o.onclick=function(t){var e=o.getAttribute("id"),e=n.querySelector('.ootb-tabcordion--tabs [aria-controls="'+e+'"]');r(i,e),r(s,o)}}(t,e,n,s)}function c(t){return t.classList.contains("has-tabs")}const e=new ResizeObserver(t=>{for(const e of t)!function(t,e){const n=t.querySelectorAll(".tab"),i=n[0].closest(".ootb-tabcordion");let s=0;for(const o of n)s+=o.offsetWidth;s>=e?i.classList.remove("has-tabs"):i.classList.add("has-tabs"),a(t,c(i))}(e.target,e.contentRect.width)});for(const i of document.querySelectorAll(".ootb-tabcordion")){var n=i.querySelector(".ootb-tabcordion--tabs");e.observe(n),t(i),a(i,c(i))}}(),preloader(),ready(function(){mobileMenuInit(),window.onscroll=function(){fixedMenu()}});